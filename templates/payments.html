{% extends "base.html" %}
{% block content %}
<h2>Payment Records</h2>

<!-- Form for processing a new payment -->
<form method="POST">
  <label for="reservation_id">Reservation ID:</label>
  <input type="text" id="reservation_id" name="reservation_id" required>
  <br>
  <label for="payment_method">Payment Method:</label>
  <select id="payment_method" name="payment_method">
    <option value="cash">Cash</option>
    <option value="mobile">Mobile</option>
    <option value="bank">Bank Card/Account</option>
  </select>
  <br>
  <label for="amount">Amount:</label>
  <input type="text" id="amount" name="amount" required>
  <br>
  <input type="submit" value="Process Payment">
</form>

<h3>Payment Records:</h3>
<table>
  <thead>
    <tr>
      <th>Payment ID</th>
      <th>Reservation ID</th>
      <th>Payment Method</th>
      <th>Amount</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% for payment in payments %}
    <tr>
      <td>{{ payment.id }}</td>
      <td>{{ payment.reservation.id }}</td>
      <td>{{ payment.payment_method }}</td>
      <td>{{ payment.amount }}</td>
      <td>{{ payment.date.strftime("%Y-%m-%d %H:%M:%S") }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}